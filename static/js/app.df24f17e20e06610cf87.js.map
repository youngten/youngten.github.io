{"version":3,"sources":["webpack:///static/js/app.df24f17e20e06610cf87.js","webpack:///./src/App.vue?27c8","webpack:///src/components/ChatRoom.vue","webpack:///./src/assets/tools_file.png","webpack:///./src/App.vue","webpack:///./src/components/ChatRoom.vue?0d80","webpack:///./src/main.js","webpack:///./src/components/ChatRoom.vue?f55e","webpack:///./src/router/index.js","webpack:///src/App.vue"],"names":["webpackJsonp","/Gaf","module","exports","0tDL","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","Ds4J","msgRef","firebase","database","ref","storageRef","storage","directives","focus","update","el","select","name","data","userNameSet","userName","messages","upload","progress","methods","setName","saveName","vm","userNameLocal","document","querySelector","value","trim","v","Math","random","console","log","toString","slice","getTime","now","Date","hours","getHours","minutes","getMinutes","sendMessage","e","message","shiftKey","length","preventDefault","push","type","timeStamp","sendImage","file","target","files","fileName","floor","metadata","contentType","progressBar","uploadTask","child","put","on","TaskEvent","STATE_CHANGED","snapshot","bytesTransferred","totalBytes","setAttribute","error","code","downloadURL","readMore","previousElementSibling","mounted","val","updated","querySelectorAll","forEach","offsetHeight","roomBody","scrollTop","scrollHeight","KSPA","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","MWLG","staticClass","_v","_s","click","$event","_m","_l","item","src","draggable","_e","rawName","expression","class","disable","accept","change","keydown","_k","keyCode","key","maxlength","domProps","NHnr","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","router","template","components","App","RFZe","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a2e79722_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__","use","routes","path","component","oVVk","xJD8"],"mappings":"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","file":"static/js/app.df24f17e20e06610cf87.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"/Gaf\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"0tDL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Ds4J\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// msgRef = firebase中的資料表/messages/，若沒有的會自動建立\nvar msgRef = firebase.database().ref('/messages/');\nvar storageRef = firebase.storage().ref('/images/');\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  directives: {\n    focus: {\n      update: function update(el) {\n        el.focus();\n      }\n    },\n    select: {\n      update: function update(el) {\n        el.select();\n      }\n    }\n  },\n  // 指定此頁使用的name\n  name: 'ChatRoom',\n  // 資料位置，於html中可用{{}}渲染出來\n  data: function data() {\n    return {\n      userNameSet: false, // 姓名輸入框\n      userName: '', // 名稱\n      messages: [], // 訊息內容\n      upload: false, // 上傳進度框\n      progress: '' // 上傳進度%數\n    };\n  },\n\n  // 這個頁面的functions\n  methods: {\n    /** 彈出設定視窗 */\n    setName: function setName() {\n      var vm = this;\n      vm.userNameSet = true;\n    },\n\n    /** 儲存設定名稱 */\n    saveName: function saveName() {\n      // vue的method中this是指export中這整塊的資料\n      var vm = this;\n      var userNameLocal = document.querySelector('#js-userName').value;\n      if (userNameLocal.trim() === '') {\n        var v = Math.random();\n        console.log(v);\n        vm.userName = v.toString().slice(2, 8);\n        vm.userNameSet = false;\n      } else {\n        vm.userName = userNameLocal;\n        vm.userNameSet = false;\n      }\n\n      // 這裡的vm.userName(this.userName)就是data()裡面的userName\n    },\n\n    /** 取得時間 */\n    getTime: function getTime() {\n      var now = new Date();\n      var hours = now.getHours();\n      var minutes = now.getMinutes();\n      return (hours >= 12 ? \"下午\" : \"上午\") + ' ' + hours + ':' + (minutes < 10 ? '0' + minutes : minutes);\n    },\n\n    /** 傳送訊息 */\n    sendMessage: function sendMessage(e) {\n      var vm = this;\n      var userName = document.querySelector('#js-userName');\n      var message = document.querySelector('#js-message');\n      // 如果是按住shift則不傳送訊息(多行輸入)\n      if (e.shiftKey) {\n        return false;\n      }\n      // 如果輸入是空則不傳送訊息\n      if (message.value.length <= 1 && message.value.trim() === '') {\n        // 避免enter產生的空白換行\n        e.preventDefault();\n        return false;\n      }\n      // 對firebase的db做push，db只能接受json物件格式，若要用陣列要先轉字串來存\n      msgRef.push({\n        userName: userName.value,\n        type: 'text',\n        message: message.value,\n        // 取得時間，這裡的vm.getTime()就是method中的getTime\n        timeStamp: vm.getTime()\n      });\n      // 清空輸入欄位並避免enter產生的空白換行\n      message.value = '';\n      e.preventDefault();\n    },\n\n    /** 傳送圖片 */\n    sendImage: function sendImage(e) {\n      var vm = this;\n      var userName = document.querySelector('#js-userName');\n      // 取得上傳檔案的資料\n      var file = e.target.files[0];\n      var fileName = Math.floor(Date.now() / 1000) + ('_' + file.name);\n      var metadata = {\n        contentType: 'image/*'\n      };\n      // 取得HTML進度條元素\n      var progressBar = document.querySelector('#js-progressBar');\n      // 上傳資訊設定\n      var uploadTask = storageRef.child(fileName).put(file, metadata);\n      // 上傳狀態處理\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n      /* 上傳進度 */\n      function (snapshot) {\n        var progress = Math.floor(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        if (progress < 100) {\n          // 開啟進度條\n          vm.upload = true;\n          vm.progress = progress + '%';\n          progressBar.setAttribute('style', 'width:' + progress + '%');\n        }\n      },\n      /* 錯誤處理 */\n      function (error) {\n        msgRef.child('bug/').push({\n          userName: userName.value,\n          type: 'image',\n          message: error.code,\n          timeStamp: vm.getTime()\n        });\n      },\n      /* 上傳結束處理 */\n      function () {\n        var downloadURL = uploadTask.snapshot.downloadURL;\n        msgRef.push({\n          userName: userName.value,\n          type: 'image',\n          message: downloadURL,\n          timeStamp: vm.getTime()\n        });\n        // 關閉進度條\n        vm.upload = false;\n      });\n    },\n\n    /** 顯示更多 */\n    readMore: function readMore(e) {\n      // 把內容高度限制取消\n      e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;');\n      // 隱藏\"顯示更多\"按紐\n      e.target.setAttribute('style', 'display: none;');\n    }\n  },\n  // mounted是vue的生命週期之一，代表模板已編譯完成，已經取值準備渲染元件了\n  mounted: function mounted() {\n    var vm = this;\n    msgRef.on('value', function (snapshot) {\n      var val = snapshot.val();\n      vm.messages = val;\n    });\n  },\n\n  // update是vue的生命週期之一，在元件渲染完成後執行\n  updated: function updated() {\n    // 判斷內容高度超過300就隱藏起來，把\"顯示更多\"按紐打開\n    var messages = document.querySelectorAll('.messageBox__message');\n    messages.forEach(function (message) {\n      if (message.offsetHeight > 300) {\n        message.querySelector('.messageBox__readMore').setAttribute('style', 'display: block');\n      }\n    });\n    // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\n    var roomBody = document.querySelector('#js-roomBody');\n    roomBody.scrollTop = roomBody.scrollHeight;\n  }\n});\n\n/***/ }),\n\n/***/ \"KSPA\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,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\"\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"0tDL\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"oVVk\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_2446c92a_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"MWLG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"Name：\"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){_vm.setName()}}},[_vm._v(\"Reset Name\")])]),_vm._v(\" \"),_c('div',{staticClass:\"chatRoom\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"roomBody\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName !== _vm.userName)?[_c('div',{staticClass:\"messageBox\"},[_c('img',{staticClass:\"messageBox__user\",attrs:{\"src\":\"https://lorempixel.com/40/40/\",\"draggable\":\"false\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),(item.type === 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__readMore\",on:{\"click\":function($event){_vm.readMore($event)}}},[_vm._v(\"顯示更多\")])]):_vm._e(),_vm._v(\" \"),(item.type === 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])])]:_vm._e(),_vm._v(\" \"),(item.userName === _vm.userName)?[_c('div',{staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[(item.type === 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type === 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()])])]:_vm._e()]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom\",class:{ disable: !_vm.userName }},[_c('div',{staticClass:\"roomBottom__tools\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.sendImage($event)}}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":__webpack_require__(\"KSPA\")}})])]),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{ disable: !_vm.userName },attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.sendMessage($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName === ''),expression:\"userNameSet || userName === ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal__container\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"modal__body\"},[_c('input',{directives:[{name:\"select\",rawName:\"v-select\"}],staticClass:\"userName\",attrs:{\"type\":\"text\",\"id\":\"js-userName\",\"maxlength\":\"6\"},domProps:{\"value\":_vm.userName},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.saveName()}}}),_vm._v(\" \"),_c('div',{staticClass:\"button\",on:{\"click\":function($event){_vm.saveName()}}},[_vm._v(\"設定\")])]),_vm._v(\" \"),_c('footer',{staticClass:\"modal__footer\"})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomHead\"},[_c('div',{staticClass:\"roomHead__topButtons\"},[_c('div',{staticClass:\"roomHead__button close\"}),_vm._v(\" \"),_c('div',{staticClass:\"roomHead__button minimize\"}),_vm._v(\" \"),_c('div',{staticClass:\"roomHead__button zoom\"})]),_vm._v(\" \"),_c('img',{staticClass:\"roomHead__img\",attrs:{\"src\":\"https://lorempixel.com/50/50/\",\"draggable\":\"false\"}}),_vm._v(\" \"),_c('div',{staticClass:\"roomHead__title\"},[_vm._v(\"Test Room\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"view-title\"},[_vm._v(\"輸入名稱\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"RFZe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__ = __webpack_require__(\"Ds4J\");\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a2e79722_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__ = __webpack_require__(\"MWLG\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"/Gaf\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2e79722\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ChatRoom_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a2e79722_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ChatRoom_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__ = __webpack_require__(\"RFZe\");\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'ChatRoom',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_ChatRoom__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"oVVk\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.df24f17e20e06610cf87.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2446c92a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 0tDL\n// module chunks = 0","<template>\n  <div class=\"container\">\n    <!-- 區塊：name area -->\n    <div class=\"name\">\n      <h3>Name：{{ userName }}</h3>\n      <!-- 註解：使用@click來偵測click，觸發時執行method中的setName() -->\n      <div class=\"reset\" @click=\"setName()\">Reset Name</div>\n    </div>\n    <!-- 區塊：chat room -->\n    <div class=\"chatRoom\">\n      <!-- 區塊：head -->\n      <div class=\"roomHead\">\n        <div class=\"roomHead__topButtons\">\n          <div class=\"roomHead__button close\"></div>\n          <div class=\"roomHead__button minimize\"></div>\n          <div class=\"roomHead__button zoom\"></div>\n        </div>\n        <img src=\"https://lorempixel.com/50/50/\" class=\"roomHead__img\" draggable=\"false\">\n        <div class=\"roomHead__title\">Test Room</div>\n      </div>\n      <!-- 區塊：body -->\n      <div id=\"js-roomBody\" class=\"roomBody\">\n        <!-- 註解：使用template來當迴圈容器，或是判斷用的容器，當條件達成時產出template內容 -->\n        <template v-for=\"item in messages\">\n          <!-- other people -->\n          <template v-if=\"item.userName !== userName\">\n            <div class=\"messageBox\">\n              <img src=\"https://lorempixel.com/40/40/\" class=\"messageBox__user\" draggable=\"false\">\n              <div class=\"messageBox__content\">\n                <!-- 註解：Vue使用雙花括號{{}}來顯示script中data:的資料 -->\n                <div class=\"messageBox__name\">{{item.userName}}</div>\n                <div v-if=\"item.type === 'text'\" class=\"messageBox__message\">\n                  <div class=\"messageBox__text\">{{item.message}}</div>\n                  <div class=\"messageBox__readMore\" @click=\"readMore($event)\">顯示更多</div>\n                </div>\n                <div v-if=\"item.type === 'image'\" class=\"messageBox__image\"><img :src=\"item.message\"></div>\n              </div>\n              <div class=\"messageBox__time\">{{item.timeStamp}}</div>\n            </div>\n          </template>\n          <!-- 區塊：self -->\n          <template v-if=\"item.userName === userName\">\n            <div class=\"messageBox messageBox--self\">\n              <div class=\"messageBox__time\">{{item.timeStamp}}</div>\n              <div class=\"messageBox__content\">\n                <div v-if=\"item.type === 'text'\" class=\"messageBox__message\">\n                  <div class=\"messageBox__text\">{{item.message}}</div>\n                </div>\n                <div v-if=\"item.type === 'image'\" class=\"messageBox__image\"><img :src=\"item.message\"></div>\n              </div>\n            </div>\n          </template>\n        </template>\n        <!-- 區塊：上傳進度條 -->\n        <div v-show=\"upload\" class=\"messageBox messageBox--self\">\n          <div class=\"messageBox__progress\">\n            <div id=\"js-progressBar\" class=\"messageBox__progress--state\"></div>\n            <div class=\"messageBox__progress--number\">{{progress}}</div>\n          </div>\n        </div>\n      </div>\n      <!-- 區塊：bottom -->\n      <!-- 註解：使用:class來寫class是否顯示的判斷式{ class: 判斷式 } -->\n      <div class=\"roomBottom\" :class=\"{ disable: !userName }\">\n        <div class=\"roomBottom__tools\">\n          <div class=\"roomBottom__tools_upload\">\n            <input type=\"file\" accept=\"image/*\" @change=\"sendImage($event)\">\n            <img src=\"../assets/tools_file.png\">\n          </div>\n        </div>\n        <div class=\"roomBottom__input\">\n          <!-- 若要再帶入原生js的event(e)到function中，必須使用$event當參數傳入 -->\n          <textarea id=\"js-message\" class=\"roomBottom__input__textarea\" :class=\"{ disable: !userName }\"\n                    @keydown.enter=\"sendMessage($event)\"></textarea>\n        </div>\n      </div>\n    </div>\n    <!-- 區塊：modal -->\n    <div v-show=\"userNameSet || userName === ''\" class=\"modal\">\n      <div class=\"modal__container\">\n        <header class=\"modal__header\">\n          <h2 class=\"view-title\">輸入名稱</h2>\n        </header>\n        <div class=\"modal__body\">\n          <!-- 註解：使用@keydown.enter來偵測keydown enter，觸發時執行method中的saveName() -->\n          <input type=\"text\" id=\"js-userName\" class=\"userName\" maxlength=\"6\" @keydown.enter=\"saveName()\"\n                 :value=\"userName\" v-select   >\n          <div class=\"button\" @click=\"saveName()\">設定</div>\n        </div>\n        <footer class=\"modal__footer\"></footer>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  // msgRef = firebase中的資料表/messages/，若沒有的會自動建立\n  const msgRef = firebase.database().ref('/messages/');\n  const storageRef = firebase.storage().ref('/images/');\n  export default {\n    directives: {\n      focus: {\n        update: function (el) {\n          el.focus()\n        }\n      },\n      select: {\n        update: function (el) {\n          el.select()\n        }\n      }\n    },\n    // 指定此頁使用的name\n    name: 'ChatRoom',\n    // 資料位置，於html中可用{{}}渲染出來\n    data() {\n      return {\n        userNameSet: false, // 姓名輸入框\n        userName: '', // 名稱\n        messages: [], // 訊息內容\n        upload: false, // 上傳進度框\n        progress: '' // 上傳進度%數\n      }\n    },\n    // 這個頁面的functions\n    methods: {\n      /** 彈出設定視窗 */\n      setName() {\n        const vm = this;\n        vm.userNameSet = true;\n      },\n      /** 儲存設定名稱 */\n      saveName() {\n        // vue的method中this是指export中這整塊的資料\n        const vm = this;\n        const userNameLocal = document.querySelector('#js-userName').value;\n        if (userNameLocal.trim() === '') {\n          let v = Math.random()\n          console.log(v)\n          vm.userName = v.toString().slice(2, 8);\n          vm.userNameSet = false;\n        } else {\n          vm.userName = userNameLocal\n          vm.userNameSet = false;\n        }\n\n        // 這裡的vm.userName(this.userName)就是data()裡面的userName\n      },\n      /** 取得時間 */\n      getTime() {\n        const now = new Date();\n        const hours = now.getHours();\n        const minutes = now.getMinutes();\n        return `${(hours >= 12) ? \"下午\" : \"上午\"} ${hours}:${(minutes < 10) ? '0' + minutes : minutes}`;\n      },\n      /** 傳送訊息 */\n      sendMessage(e) {\n        const vm = this;\n        const userName = document.querySelector('#js-userName');\n        let message = document.querySelector('#js-message');\n        // 如果是按住shift則不傳送訊息(多行輸入)\n        if (e.shiftKey) {\n          return false;\n        }\n        // 如果輸入是空則不傳送訊息\n        if (message.value.length <= 1 && message.value.trim() === '') {\n          // 避免enter產生的空白換行\n          e.preventDefault();\n          return false;\n        }\n        // 對firebase的db做push，db只能接受json物件格式，若要用陣列要先轉字串來存\n        msgRef.push({\n          userName: userName.value,\n          type: 'text',\n          message: message.value,\n          // 取得時間，這裡的vm.getTime()就是method中的getTime\n          timeStamp: vm.getTime()\n        })\n        // 清空輸入欄位並避免enter產生的空白換行\n        message.value = '';\n        e.preventDefault();\n      },\n      /** 傳送圖片 */\n      sendImage(e) {\n        const vm = this;\n        const userName = document.querySelector('#js-userName');\n        // 取得上傳檔案的資料\n        const file = e.target.files[0];\n        const fileName = Math.floor(Date.now() / 1000) + `_${file.name}`;\n        const metadata = {\n          contentType: 'image/*'\n        };\n        // 取得HTML進度條元素\n        let progressBar = document.querySelector('#js-progressBar');\n        // 上傳資訊設定\n        const uploadTask = storageRef.child(fileName).put(file, metadata);\n        // 上傳狀態處理\n        uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n          /* 上傳進度 */\n          function (snapshot) {\n            let progress = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n            if (progress < 100) {\n              // 開啟進度條\n              vm.upload = true;\n              vm.progress = `${progress}%`;\n              progressBar.setAttribute('style', `width:${progress}%`);\n            }\n          },\n          /* 錯誤處理 */\n          function (error) {\n            msgRef.child('bug/').push({\n              userName: userName.value,\n              type: 'image',\n              message: error.code,\n              timeStamp: vm.getTime()\n            })\n          },\n          /* 上傳結束處理 */\n          function () {\n            var downloadURL = uploadTask.snapshot.downloadURL;\n            msgRef.push({\n              userName: userName.value,\n              type: 'image',\n              message: downloadURL,\n              timeStamp: vm.getTime()\n            })\n            // 關閉進度條\n            vm.upload = false;\n          });\n      },\n      /** 顯示更多 */\n      readMore(e) {\n        // 把內容高度限制取消\n        e.target.previousElementSibling.setAttribute('style', 'max-height: 100%;')\n        // 隱藏\"顯示更多\"按紐\n        e.target.setAttribute('style', 'display: none;');\n      }\n    },\n    // mounted是vue的生命週期之一，代表模板已編譯完成，已經取值準備渲染元件了\n    mounted() {\n      const vm = this;\n      msgRef.on('value', function (snapshot) {\n        const val = snapshot.val();\n        vm.messages = val;\n      })\n    },\n    // update是vue的生命週期之一，在元件渲染完成後執行\n    updated() {\n      // 判斷內容高度超過300就隱藏起來，把\"顯示更多\"按紐打開\n      const messages = document.querySelectorAll('.messageBox__message');\n      messages.forEach((message) => {\n        if (message.offsetHeight > 300) {\n          message.querySelector('.messageBox__readMore').setAttribute('style', 'display: block');\n        }\n      })\n      // 當畫面渲染完成，把聊天視窗滾到最底部(讀取最新消息)\n      const roomBody = document.querySelector('#js-roomBody');\n      roomBody.scrollTop = roomBody.scrollHeight;\n    }\n  }\n</script>\n\n<style scoped>\n  * {\n    font-family: '微軟正黑體';\n    margin: auto;\n  }\n\n  .container {\n    padding: 10px 30px 0 0;\n  }\n\n  .name {\n    text-align: center;\n    margin: 10px 50px 10px 0;\n    color: #333333;\n  }\n\n  .reset {\n    margin-top: 10px;\n    padding: 5px 10px;\n    border-radius: 10px;\n    font-weight: 600;\n    color: #333333;\n    background-color: #CCCCCC;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .chatRoom {\n    border-radius: 5px;\n    max-width: 500px;\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n\n  /* Head */\n  .roomHead {\n    width: 100%;\n    height: 85px;\n    border-radius: 5px 5px 0 0;\n    background-color: #2B364B;\n    position: relative;\n  }\n\n  .roomHead__topButtons {\n    padding: 2px 0 5px 10px;\n    text-align: left;\n  }\n\n  .roomHead__button {\n    height: 10px;\n    width: 10px;\n    border-radius: 50%;\n    margin: 0 1px;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .close {\n    background-color: #FF625A;\n  }\n\n  .minimize {\n    background-color: #FFC02F;\n  }\n\n  .zoom {\n    background-color: #28CB40;\n  }\n\n  .roomHead__img {\n    width: 50px;\n    height: 50px;\n    margin: 0 10px 6px 12px;\n    border-radius: 50%;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  .roomHead__title {\n    font-size: 13px;\n    font-weight: 600;\n    color: #FFFFFF;\n    height: 80px;\n    margin: 5px 0 0 75px;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  /* Body */\n  .roomBody {\n    padding: 10px 0;\n    background-color: #fff;\n    height: 60vh;\n    overflow-y: auto;\n    overflow-x: hidden;\n  }\n\n  .messageBox {\n    padding: 5px 10px;\n    position: relative;\n  }\n\n  .messageBox__user {\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    vertical-align: top;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  .messageBox__content {\n    max-width: 70%;\n    display: inline-block;\n  }\n\n  .messageBox__name {\n    margin: 5px 0 5px 5px;\n    font-size: 13px;\n    color: #727C8A;\n    vertical-align: top;\n    cursor: pointer;\n  }\n\n  .messageBox__message {\n    margin: 5px 0 5px 5px;\n    font-size: 12px;\n    color: #35393D;\n    letter-spacing: 0.6px;\n    background-color: #E3E8EB;\n    border-radius: 12px;\n    line-height: 1.5;\n    text-align: left;\n    word-break: break-all;\n    /*：與html的<pre></pre>同效果，可以使textarea的換行元素正常顯示 */\n    white-space: pre-line;\n  }\n\n  .messageBox__text {\n    padding: 8px 10px 9px 11px;\n    max-height: 300px;\n    overflow: hidden;\n  }\n\n  .messageBox__readMore {\n    border-top: 1px solid #D9DBDD;\n    margin-top: 6px;\n    padding: 6px 13px 10px 13px;\n    left: 0;\n    right: 0;\n    cursor: pointer;\n    display: none;\n  }\n\n  .messageBox__image {\n    margin: 5px 25px 5px 5px;\n  }\n\n  .messageBox__image img {\n    border-radius: 5px;\n    max-width: 100%;\n    max-height: 335px;\n  }\n\n  .messageBox__time {\n    transform: scale(0.7);\n    color: #ACB0B8;\n    vertical-align: bottom;\n    margin: 0 0 5px -12px;\n    display: inline-block;\n  }\n\n  .messageBox__progress {\n    width: 25%;\n    margin-right: 60px;\n    border-radius: 5px;\n    background-color: #D4D9E1;\n    height: 6px;\n  }\n\n  .messageBox__progress--state {\n    background-color: #00CE00;\n    height: 6px;\n    width: 10%;\n    border-radius: 5px;\n    float: right;\n  }\n\n  .messageBox__progress--number {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 12px;\n    color: #B7B7B7;\n    margin-right: 35px;\n  }\n\n  .messageBox--self {\n    text-align: right;\n  }\n\n  .messageBox--self .messageBox__message {\n    background-color: #AFF47E;\n    margin-right: 25px;\n  }\n\n  .messageBox--self .messageBox__message__text {\n    padding: 8px 10px 9px 11px;\n    max-height: 100%;\n    overflow: unset;\n  }\n\n  .messageBox--self .messageBox__time {\n    margin: 0 -16px 5px 0;\n  }\n\n  /* Bottom */\n  .roomBottom {\n    bottom: 0;\n    border-radius: 0 0 5px 5px;\n    background-color: #FFFFFF;\n  }\n\n  .roomBottom__tools {\n    border-top: solid 1px #E7E7E7;\n    border-bottom: solid 2px #E7E7E7;\n    background-color: #F6F6F6;\n    height: 30px;\n    padding: 0 5px;\n  }\n\n  .roomBottom__tools_upload {\n    height: 20px;\n    margin: 5px;\n    padding: 1px;\n    display: inline-block;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .roomBottom__tools_upload:hover {\n    border: solid 1px #DCDCDC;\n  }\n\n  .roomBottom__tools_upload input {\n    width: 100%;\n    height: 100%;\n    left: 0;\n    right: 0;\n    opacity: 0;\n    position: absolute;\n    cursor: pointer;\n    /* 讓input file可以支援pointer要加pl100% */\n    padding-left: 100%;\n  }\n\n  .roomBottom__tools_upload img {\n    height: 100%;\n  }\n\n  .roomBottom__input {\n    padding: 10px 10px 5px 10px;\n  }\n\n  .roomBottom__input__textarea {\n    width: 100%;\n    height: 60px;\n    border: none;\n    resize: none;\n    outline: none;\n  }\n\n  /* status */\n  .disable {\n    pointer-events: none;\n    background-color: #ebebeb;\n  }\n\n  /* modal */\n  .modal {\n    z-index: 3;\n    padding: 50px 0;\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    background-color: rgba(0, 0, 0, 0.4);\n    animation: opac 0.8s;\n    letter-spacing: 2px;\n    text-align: unset;\n  }\n\n  .modal__container {\n    margin: auto;\n    position: relative;\n    padding: 10px;\n    outline: 0;\n    max-width: 300px;\n  }\n\n  .modal__header {\n    color: #fff;\n    background-color: #2B364B;\n    padding: 10px;\n    text-align: center;\n    border-radius: 5px 5px 0 0;\n  }\n\n  .modal__body {\n    background-color: #fff;\n    padding: 20px 50px;\n    text-align: center;\n  }\n\n  .modal__body p {\n    text-align: left;\n    line-height: 24px;\n  }\n\n  .modal__img {\n    max-width: 100%;\n  }\n\n  .modal__footer {\n    color: #fff;\n    background-color: #2B364B;\n    height: 8px;\n    border-radius: 0 0 5px 5px;\n  }\n\n  /* name set */\n  .userName {\n    height: 30px;\n    font-size: 16px;\n    margin-bottom: 10px;\n    border: solid 1px #cbcbcb;\n    width: 70%;\n    text-align: center;\n    display: inline-block;\n  }\n\n  .button {\n    font-size: 14px;\n    color: #FFFFFF;\n    background-color: #2B364B;\n    padding: 10px 20px;\n    display: inline-block;\n    cursor: pointer;\n  }\n\n  /* media */\n\n  @media screen and (max-width: 425px) {\n    .messageBox__content {\n      max-width: 60%;\n    }\n  }\n\n  @media screen and (max-width: 385px) {\n    .messageBox__content {\n      max-width: 50%;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChatRoom.vue","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/tools_file.png\n// module id = KSPA\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2446c92a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2446c92a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"name\"},[_c('h3',[_vm._v(\"Name：\"+_vm._s(_vm.userName))]),_vm._v(\" \"),_c('div',{staticClass:\"reset\",on:{\"click\":function($event){_vm.setName()}}},[_vm._v(\"Reset Name\")])]),_vm._v(\" \"),_c('div',{staticClass:\"chatRoom\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"roomBody\",attrs:{\"id\":\"js-roomBody\"}},[_vm._l((_vm.messages),function(item){return [(item.userName !== _vm.userName)?[_c('div',{staticClass:\"messageBox\"},[_c('img',{staticClass:\"messageBox__user\",attrs:{\"src\":\"https://lorempixel.com/40/40/\",\"draggable\":\"false\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[_c('div',{staticClass:\"messageBox__name\"},[_vm._v(_vm._s(item.userName))]),_vm._v(\" \"),(item.type === 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__readMore\",on:{\"click\":function($event){_vm.readMore($event)}}},[_vm._v(\"顯示更多\")])]):_vm._e(),_vm._v(\" \"),(item.type === 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))])])]:_vm._e(),_vm._v(\" \"),(item.userName === _vm.userName)?[_c('div',{staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__time\"},[_vm._v(_vm._s(item.timeStamp))]),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__content\"},[(item.type === 'text')?_c('div',{staticClass:\"messageBox__message\"},[_c('div',{staticClass:\"messageBox__text\"},[_vm._v(_vm._s(item.message))])]):_vm._e(),_vm._v(\" \"),(item.type === 'image')?_c('div',{staticClass:\"messageBox__image\"},[_c('img',{attrs:{\"src\":item.message}})]):_vm._e()])])]:_vm._e()]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.upload),expression:\"upload\"}],staticClass:\"messageBox messageBox--self\"},[_c('div',{staticClass:\"messageBox__progress\"},[_c('div',{staticClass:\"messageBox__progress--state\",attrs:{\"id\":\"js-progressBar\"}}),_vm._v(\" \"),_c('div',{staticClass:\"messageBox__progress--number\"},[_vm._v(_vm._s(_vm.progress))])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom\",class:{ disable: !_vm.userName }},[_c('div',{staticClass:\"roomBottom__tools\"},[_c('div',{staticClass:\"roomBottom__tools_upload\"},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.sendImage($event)}}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"../assets/tools_file.png\")}})])]),_vm._v(\" \"),_c('div',{staticClass:\"roomBottom__input\"},[_c('textarea',{staticClass:\"roomBottom__input__textarea\",class:{ disable: !_vm.userName },attrs:{\"id\":\"js-message\"},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.sendMessage($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.userNameSet || _vm.userName === ''),expression:\"userNameSet || userName === ''\"}],staticClass:\"modal\"},[_c('div',{staticClass:\"modal__container\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"modal__body\"},[_c('input',{directives:[{name:\"select\",rawName:\"v-select\"}],staticClass:\"userName\",attrs:{\"type\":\"text\",\"id\":\"js-userName\",\"maxlength\":\"6\"},domProps:{\"value\":_vm.userName},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.saveName()}}}),_vm._v(\" \"),_c('div',{staticClass:\"button\",on:{\"click\":function($event){_vm.saveName()}}},[_vm._v(\"設定\")])]),_vm._v(\" \"),_c('footer',{staticClass:\"modal__footer\"})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"roomHead\"},[_c('div',{staticClass:\"roomHead__topButtons\"},[_c('div',{staticClass:\"roomHead__button close\"}),_vm._v(\" \"),_c('div',{staticClass:\"roomHead__button minimize\"}),_vm._v(\" \"),_c('div',{staticClass:\"roomHead__button zoom\"})]),_vm._v(\" \"),_c('img',{staticClass:\"roomHead__img\",attrs:{\"src\":\"https://lorempixel.com/50/50/\",\"draggable\":\"false\"}}),_vm._v(\" \"),_c('div',{staticClass:\"roomHead__title\"},[_vm._v(\"Test Room\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"modal__header\"},[_c('h2',{staticClass:\"view-title\"},[_vm._v(\"輸入名稱\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-a2e79722\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatRoom.vue\n// module id = MWLG\n// module chunks = 0","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a2e79722\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatRoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatRoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a2e79722\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatRoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a2e79722\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatRoom.vue\n// module id = RFZe\n// module chunks = 0","import Vue from 'vue'\nimport Router from 'vue-router'\nimport ChatRoom from '@/components/ChatRoom'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'ChatRoom',\n      component: ChatRoom\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}